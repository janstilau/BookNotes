# -1

很多时候, 我们把某个值当做-1 , 认为是错误.
例如, numPrinted, 表示打印的份数, 等于-1的时候, 就表示打印出错了. 这就是使用了隐含含义的变量, 在正常情况下, 这是一个int值, 但是在-1的情况下, 这是一个bool值. 这个时候, 就不如用一个bool值来进行判断, 多一个变量, 但是逻辑清楚了, 每个变量也有了每个变量的含义.

因为就算编写代码的人, 对于用特定值表示错误的情况很了解, 其他人很有可能不了解, 这样的代码不清晰.

同样的情况, 也出现在返回值的时候.

有些时候, get函数返回一个值, 这个值本身是没有的, 然后如果是返回指针的话, 我们就返回null, 如果不是指针, 我们就返回一个对象, 让对象的某个值为非法值. 在调用者拿到返回值之后, 应该对拿到的值对判断, 如果是非法值, 就走向错误处理那边的代码.
这样写正不正确, 其实是由 成功失败与返回值的关系 决定的. 如果返回值是非法值, 就是失败了, 其他的就是成功了, 那么这么写也是没有问题的. 但是, 如果是参数错误呢, 在一个get函数返回指针的情况下, 返回null, 有可能是参数错误, 有可能是本身就没有这个值, null作为一个返回值, 有着运行成功和运行失败两种解释. 如果, 返回值和函数运行成功与否没有强耦合的关系, 就应该用bool getXXX(指针形参, 输入参数) 这种形式. 这种形式要比用返回值判断书写的时候麻烦一点, 但是意思清楚.