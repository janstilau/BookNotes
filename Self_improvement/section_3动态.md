# 动态链接  

静态链接的缺点就是,浪费计算机内存和磁盘的空间.在多进程的环境下,静态链接,极大浪费了内存,因为每个程序都有着同样的标准库函数.第二个问题就是,软件的更新.如果用到第三方库,需要更新第三方库,就需要重新打包,将整个程序重新链接给用户.那么更新程序,就要用户下载整个程序,如果这个程序非常大,那么用户就很有可能放弃你的软件.  
要解决这个空间浪费和更新困难最简单的办法就是程序的模块相互分割,形成独立的文件,而不是静态的链接到了一起.简单来说,就是不对那些组成程序的目标文件进行链接,等到程序要运行的时候链接.把链接这个过程推迟到了运行时在进行,这就是动态链接.  
当运行的时候,系统将程序和所依赖的文件,加载到了内存,然后开始链接工作,最后找到程序入口处开始执行程序.当下一个程序需要启动时,如果依赖的文件已经在内存里,那么就直接用这个依赖文件进行链接.这样也让程序的升级变得容易,当需要升级时,只要将旧的目标文件覆盖掉,而不必链接整个文件.当下一次运行的时候,就会自动加载最新的目标文件.当程序规模很大的时候,可以分成各个子模块,甚至可以使用不同的语言,最后在运行时链接到一起,降低耦合度.  
动态链接,还有一个特点就是程序运行的时候可以动态的选择各个程序的模块,这个优点就是后来人们用来制作程序的插件.比如,某个产品,制定了程序的接口,其他开发者根据这个接口开发符合要求的动态链接文件,这个产品就可以动态链接这个插件文件,实现扩展功能.  


## 动态链接的基本实现.  
动态链接的基本思想是,程序按照模块拆分成为各个相对独立的部分,在程序运行的时候,才链接在一起形成一个完整的程序,而不是将静态链接一样所有的程序模块都连接成为一个单独的可执行文件.程序和动态链接库之间的链接工作是由动态连接器完成的.动态链接把链接这个过程从本来的程序装载前推迟到装载的时候,这会导致性能的一些损失,但是对于程序空间的节省和灵活是很值得的.  
